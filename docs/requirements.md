# 数据治理管理平台（DGMP）需求文档

## 1. 项目背景与目标

### 1.1 项目背景

在高校数字化转型的大潮中，数据治理是任何一个组织都绕不开的核心工作。当前高校在推进数据治理工作时，普遍面临着以下棘手问题：

1. **人手少，任务重**：高校信息化部门通常是"一个萝卜好几个坑"，真正能投入到数据治理工作中的专职人员往往只有一两个。

2. **成果无法持续沉淀**：将数据治理简单外包，会带来工作成果的"流失"。学校与厂商共同总结的经验、做出的决策、形成的理念，以及对学校业务数据的深入理解——这些对高校而言最宝贵、最值得长期积累的"治理智慧"，往往与特定的数据治理平台或具体的工作人员深度绑定。换一个中台，或者换一个厂商，甚至是校内负责人一变动，之前的工作成果就很难被完整继承。

### 1.2 核心理念

本项目的核心理念是**实现数据治理的"决策与执行分离"**：

- **决策层（管理理念）**：由学校的数据治理人员主导，负责提炼治理理念、制定数据标准、做出关键决策、总结业务规则。所有这些"治理智慧"都应该以标准化的形式（如文档、图表、规则集）被清晰地记录和管理起来，独立于任何具体平台或人员。

- **执行层（具体实现）**：由厂商或校内技术人员负责，根据"决策层"给出的明确"设计图"，去完成具体的数据清洗、集成、标准化等工作。

### 1.3 项目目标

构建一个**数据治理管理平台（Data Governance Management Platform, DGMP）**，实现以下目标：

1. **治理智慧固化**：将数据治理的决策、标准、规则以标准化形式记录和管理，实现治理成果的有效积累和传承。

2. **工作流程标准化**：建立Plan-Do-Check-Act的标准化工作流程，确保数据治理工作的规范性和可追溯性。

3. **执行过程透明化**：让决策层能够清晰了解执行层的进展和结果，实现治理过程的可视化管理。

4. **质量保障自动化**：通过自动化的质量检查机制，确保数据治理成果的质量。

## 2. 用户角色与权限

### 2.1 角色定义

| 角色 | 描述 | 主要职责 |
|------|------|----------|
| **系统管理员** | 负责系统整体管理和配置 | 用户管理、角色分配、系统配置、日志查看 |
| **数据治理专家** | 决策层核心人员，负责制定治理策略 | 制定数据标准、定义质量规则、设计映射规则、审核任务 |
| **数据治理专员** | 决策层辅助人员，协助治理工作 | 维护数据标准、维护规则、跟踪任务进度 |
| **执行工程师** | 执行层人员，负责具体实施 | 接收任务、执行数据治理操作、提交执行结果 |
| **质量检查员** | 负责数据质量检查和验证 | 执行质量检查、分析质量报告、提出改进建议 |
| **普通用户** | 只读权限，查看治理成果 | 查看数据标准、查看质量报告、查看执行日志 |

### 2.2 权限矩阵

| 功能模块 | 系统管理员 | 数据治理专家 | 数据治理专员 | 执行工程师 | 质量检查员 | 普通用户 |
|----------|------------|--------------|--------------|------------|------------|----------|
| 用户管理 | ✓ | ✗ | ✗ | ✗ | ✗ | ✗ |
| 角色管理 | ✓ | ✗ | ✗ | ✗ | ✗ | ✗ |
| 系统配置 | ✓ | ✗ | ✗ | ✗ | ✗ | ✗ |
| 数据源管理 | ✓ | ✓ | ✗ | ✗ | ✗ | 查看 |
| 同步任务管理 | ✓ | ✓ | ✗ | ✗ | ✗ | 查看 |
| 数据标准管理 | ✓ | ✓ | ✓ | ✗ | ✗ | 查看 |
| 质量规则管理 | ✓ | ✓ | ✓ | ✗ | ✗ | 查看 |
| 映射规则管理 | ✓ | ✓ | ✓ | ✗ | ✗ | 查看 |
| 任务创建 | ✓ | ✓ | ✓ | ✗ | ✗ | ✗ |
| 任务分配 | ✓ | ✓ | ✓ | ✗ | ✗ | ✗ |
| 任务执行 | ✓ | ✗ | ✗ | ✓ | ✗ | ✗ |
| 执行结果提交 | ✓ | ✗ | ✗ | ✓ | ✗ | ✗ |
| 质量检查执行 | ✓ | ✗ | ✗ | ✗ | ✓ | ✗ |
| 质量报告查看 | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| 执行日志查看 | ✓ | ✓ | ✓ | ✓ | ✓ | 查看 |
| 审计日志查看 | ✓ | ✓ | ✗ | ✗ | ✗ | ✗ |

## 3. 功能需求

### 3.1 数据标准管理

#### 3.1.1 功能描述
数据标准管理模块用于定义和管理组织的数据标准，包括数据元定义、数据类型规范、格式规范等。

#### 3.1.2 功能列表

| 功能编号 | 功能名称 | 功能描述 | 优先级 |
|----------|----------|----------|--------|
| DS-001 | 数据元管理 | 创建、编辑、删除、查询数据元定义 | 高 |
| DS-002 | 数据类型管理 | 定义和管理标准数据类型（字符串、数字、日期等） | 高 |
| DS-003 | 格式规范管理 | 定义数据格式规范（如学工号10位数字符串） | 高 |
| DS-004 | 数据元分类 | 对数据元进行分类管理（学生类、教师类、课程类等） | 中 |
| DS-005 | 数据元版本管理 | 支持数据元的版本控制和历史记录 | 中 |
| DS-006 | 数据元引用分析 | 分析数据元在规则和任务中的引用情况 | 低 |
| DS-007 | 数据标准导入导出 | 支持数据标准的批量导入和导出 | 中 |

#### 3.1.3 详细功能说明

**DS-001 数据元管理**
- 支持创建数据元，包含以下属性：
  - 数据元编码（唯一标识）
  - 数据元名称
  - 数据元描述
  - 数据类型
  - 数据长度
  - 是否必填
  - 默认值
  - 取值范围
  - 业务规则说明
  - 创建人、创建时间
  - 修改人、修改时间
- 支持编辑数据元属性
- 支持删除数据元（需检查引用关系）
- 支持按编码、名称、分类等条件查询
- 支持分页展示

**DS-002 数据类型管理**
- 预置常用数据类型：字符串、整数、小数、日期、时间、布尔值、枚举等
- 支持自定义数据类型
- 每种数据类型定义验证规则

**DS-003 格式规范管理**
- 支持使用正则表达式定义格式
- 支持格式示例说明
- 支持格式验证测试

**DS-004 数据元分类**
- 支持多级分类树结构
- 支持分类的增删改查
- 支持数据元与分类的关联

**DS-005 数据元版本管理**
- 每次修改自动创建新版本
- 支持查看历史版本
- 支持版本对比
- 支持版本回滚

**DS-006 数据元引用分析**
- 显示数据元在质量规则中的引用
- 显示数据元在映射规则中的引用
- 显示数据元在任务中的引用

**DS-007 数据标准导入导出**
- 支持Excel格式导入
- 支持JSON格式导入导出
- 导入时进行数据校验
- 导入失败时提供详细错误信息

### 3.2 数据质量规则管理

#### 3.2.1 功能描述
数据质量规则管理模块用于定义和管理数据质量检查规则，包括完整性规则、一致性规则、准确性规则、及时性规则等。

#### 3.2.2 功能列表

| 功能编号 | 功能名称 | 功能描述 | 优先级 |
|----------|----------|----------|--------|
| QR-001 | 规则创建 | 创建数据质量规则 | 高 |
| QR-002 | 规则编辑 | 编辑已有规则 | 高 |
| QR-003 | 规则删除 | 删除规则（需检查引用） | 高 |
| QR-004 | 规则查询 | 按条件查询规则 | 高 |
| QR-005 | 规则分类 | 对规则进行分类管理 | 中 |
| QR-006 | 规则测试 | 测试规则的执行效果 | 高 |
| QR-007 | 规则版本管理 | 支持规则的版本控制 | 中 |
| QR-008 | 规则模板 | 提供常用规则模板 | 中 |

#### 3.2.3 详细功能说明

**QR-001 规则创建**
- 支持创建以下类型的规则：
  - **完整性规则**：检查字段是否为空、是否缺失
  - **一致性规则**：检查字段值是否符合数据标准、跨表一致性
  - **准确性规则**：检查字段值是否在合理范围内、格式是否正确
  - **及时性规则**：检查数据更新时间是否及时
  - **唯一性规则**：检查字段值是否唯一
  - **引用完整性规则**：检查外键引用是否有效
- 规则属性包括：
  - 规则编码（唯一标识）
  - 规则名称
  - 规则类型
  - 规则描述
  - 适用数据源
  - 适用表/字段
  - 规则表达式（SQL或自定义表达式）
  - 严重程度（错误、警告、提示）
  - 创建人、创建时间
  - 修改人、修改时间

**QR-006 规则测试**
- 支持选择测试数据源
- 支持执行规则测试
- 显示测试结果（通过/失败）
- 显示不符合规则的数据样本

**QR-008 规则模板**
- 预置常用规则模板：
  - 非空检查模板
  - 唯一性检查模板
  - 范围检查模板
  - 格式检查模板
  - 引用完整性检查模板
- 支持基于模板快速创建规则

### 3.3 数据映射规则管理

#### 3.3.1 功能描述
数据映射规则管理模块用于定义和管理跨系统的数据映射规则，包括字段映射、值映射、转换规则等。

#### 3.3.2 功能列表

| 功能编号 | 功能名称 | 功能描述 | 优先级 |
|----------|----------|----------|--------|
| MR-001 | 映射规则创建 | 创建数据映射规则 | 高 |
| MR-002 | 映射规则编辑 | 编辑已有映射规则 | 高 |
| MR-003 | 映射规则删除 | 删除映射规则 | 高 |
| MR-004 | 映射规则查询 | 按条件查询映射规则 | 高 |
| MR-005 | 字段映射管理 | 管理源字段到目标字段的映射 | 高 |
| MR-006 | 值映射管理 | 管理字段值的映射转换 | 高 |
| MR-007 | 转换规则管理 | 定义数据转换逻辑 | 中 |
| MR-008 | 映射规则测试 | 测试映射规则的执行效果 | 高 |

#### 3.3.3 详细功能说明

**MR-001 映射规则创建**
- 支持创建映射规则，包含以下属性：
  - 规则编码（唯一标识）
  - 规则名称
  - 规则描述
  - 源系统
  - 源表
  - 目标系统
  - 目标表
  - 映射类型（一对一、一对多、多对一）
 创建人、创建时间
  - 修改人、修改时间

**MR-005 字段映射管理
- 支持定义源字段到目标字段的映射关系
- 支持字段重命名
- 支持字段拆分和合并
- 支持字段计算（如：年龄=当前年份-出生年份）

**MR-006 值映射管理
- 支持定义字段值的映射转换
- 支持枚举值映射（如：学生状态：1->在校，2->休学，3->毕业）
- 支持范围映射
- 支持自定义转换函数

**MR-007 转换规则管理
- 支持使用SQL表达式定义转换逻辑
- 支持使用JavaScript函数定义转换逻辑
- 支持转换规则的复用

**MR-008 映射规则测试
- 支持选择测试数据
- 支持执行映射测试
- 显示映射前后数据对比
- 显示转换错误和警告

### 3.4 任务管理

#### 3.4.1 功能描述
任务模块用于管理数据治理任务的创建、分配、执行和跟踪，实现Plan-Do-Check工作流程。

#### 3.4.2 功能列表

| 功能编号 | 功能名称 | 功能描述 | 优先级 |
|----------|----------|----------|--------|
| TM-001 | 任务创建 | 创建数据治理任务 | 高 |
| TM-002 | 任务分配 | 将任务分配给执行人员 | 高 |
| TM-003 | 任务接收 | 执行人员接收任务 | 高 |
| TM-004 | 任务执行 | 执行人员执行任务并提交结果 | 高 |
| TM-005 | 任务审核 | 审核任务执行结果 | 高 |
| TM-006 | 任务查询 | 按条件查询任务和任务列表 | 高 |
| TM-007 | 任务统计 | 任务进度和完成情况统计 | 中 |
| TM-008 | 任务模板 | 提供常用任务模板 | 中 |

#### 3.4.3 详细功能说明

**TM-001 任务创建**
- 支持创建以下类型的任务：
  - **数据清洗任务**：清洗脏数据、修正错误数据
  - **数据集成任务**：集成多个数据源的数据
  - **数据标准化任务**：将数据转换为标准格式
  - **数据质量检查任务**：执行质量规则检查
  - **数据映射任务**：执行数据映射转换
- 任务属性包括：
  - 任务编号（自动生成）
  - 任务名称
  - 任务类型
  - 任务描述
  - 关联数据标准
  - 关联质量规则
  - 关联映射规则
  - 优先级（高、中、低）
  - 计划开始时间
  - 计划结束时间
  - 创建人、创建时间
  - 任务状态（待分配、已分配、执行中、待审核、已完成、已驳回）

**TM-002 任务分配**
- 支持将任务分配给执行工程师
- 支持批量分配
- 支持设置任务截止时间
- 分配时发送通知

**TM-003 任务接收**
- 执行工程师查看分配给自己的任务
- 支持接收或拒绝任务
- 拒绝时需填写拒绝原因

**TM-004 任务执行**
- 执行工程师查看任务详情和关联规则
- 支持填写执行说明
- 支持上传执行结果文件
- 支持提交执行日志
- 支持标记任务完成

**TM-005 任务审核**
-数据治理专家审核任务执行结果
- 支持通过或驳回任务
- 驳回时需填写驳回原因和修改意见
- 支持要求重新执行

**TM-007 任务统计**
- 按任务类型统计
- 按执行人员统计
- 按时间范围统计
- 按任务状态统计
- 可视化展示（图表）

### 3.5 执行跟踪

#### 3.5.1 功能描述
执行跟踪模块用于跟踪和监控数据治理任务的执行过程，提供执行日志和进度监控。

#### 3.5.2 功能列表

| 功能编号 | 功能名称 | 功能描述 | 优先级 |
|----------|----------|----------|--------|
| ET-001 | 执行日志记录 | 自动记录任务执行日志 | 高 |
| ET-002 | 执行进度监控 | 实时监控任务执行进度 | 高 |
| ET-003 | 执行结果查看 | 查看任务执行结果 | 高 |
| ET-004 | 执行历史查询 | 查询历史执行记录 | 中 |
| ET-005 | 执行异常告警 | 执行异常时发送告警 | 中 |

#### 3.5.3 详细功能说明

**ET-001 执行日志记录**
- 自动记录以下日志信息：
  - 任务开始时间
  - 任务结束时间
  - 执行人员
  - 执行步骤
  - 执行状态
  - 处理数据量
  - 成功数量
  - 失败数量
  - 错误信息
  - 警告信息

**ET-002 执行进度监控**
- 实时显示任务执行进度
- 显示当前执行步骤
- 显示已处理数据量
- 显示预计剩余时间
- 支持进度条可视化

**ET-003 执行结果查看**
- 查看任务执行结果摘要
- 查看详细执行日志
- 查看成功和失败的数据样本
- 支持结果导出

**ET-005 执行异常告警**
- 任务执行失败时发送告警
- 支持邮件通知
- 支持系统内通知
- 支持自定义告警规则

### 3.6 质量检查

#### 3.6.1 功能描述
质量检查模块用于执行数据质量检查，生成质量报告，实现Check环节的自动化。

#### 3.6.2 功能列表

| 功能编号 | 功能名称 | 功能描述 | 优先级 |
|----------|----------|----------|--------|
| QC-001 | 质量检查执行 | 执行数据质量规则检查 | 高 |
| QC-002 | 质量报告生成 | 生成数据质量报告 | 高 |
| QC-003 | 质量报告查看 | 查看质量报告详情 | 高 |
| QC-004 | 质量趋势分析 | 分析数据质量变化趋势 | 中 |
| QC-005 | 质量问题跟踪 | 跟踪质量问题整改情况 | 高 |
| QC-006 | 定时检查配置 | 配置定时质量检查 | 中 |

#### 3.6.3 详细功能说明

**QC-001 质量检查执行**
- 支持选择要执行的质量规则
- 支持选择检查的数据源
- 支持批量执行
- 执行时记录检查日志

**QC-002 质量报告生成**
- 自动生成质量报告，包含：
  - 检查概要（检查时间、检查范围、规则数量）
  - 质量评分（总体评分、各维度评分）
  - 问题统计（按严重程度、按规则类型）
  - 问题详情（问题描述、影响范围、建议措施）
  - 数据样本（不符合规则的数据）
- 支持报告导出（PDF、Excel）

**QC-003 质量报告查看**
- 查看历史质量报告
- 支持按时间、数据源、规则等条件筛选
- 支持报告对比

**QC-004 质量趋势分析**
- 展示数据质量评分变化趋势
- 展示问题数量变化趋势
- 支持按日、周、月统计
- 可视化展示（折线图、柱状图）

**QC-005 质量问题跟踪**
- 记录质量问题
- 分配整改责任人
- 跟踪整改进度
- 记录整改结果

**QC-006 定时检查配置**
- 支持配置定时检查任务
- 支持设置检查频率（每日、每周、每月）
- 支持设置检查时间
- 支持配置检查规则和数据源

### 3.7 外部数据源管理

#### 3.7.1 功能描述
外部数据源管理模块用于配置和管理外部数据源，支持从外部数据库、API或文件导入数据标准、质量规则和映射规则。

#### 3.7.2 功能列表

| 功能编号 | 功能名称 | 功能描述 | 优先级 |
|----------|----------|----------|--------|
| ED-001 | 数据源创建 | 创建外部数据源配置 | 高 |
| ED-002 | 数据源编辑 | 编辑外部数据源配置 | 高 |
| ED-003 | 数据源删除 | 删除外部数据源配置 | 高 |
| ED-004 | 数据源测试 | 测试数据源连接 | 高 |
| ED-005 | 数据源查询 | 按条件查询数据源 | 高 |
| ED-006 | 连接配置管理 | 管理数据源连接参数 | 高 |

#### 3.7.3 详细功能说明

**ED-001 数据源创建**
- 支持创建以下类型的数据源：
  - **数据库类型**：MySQL、Oracle、PostgreSQL、SQL Server等
  - **API类型**：RESTful API、GraphQL API
  - **文件类型**：Excel、CSV、JSON文件
- 数据源属性包括：
  - 数据源编码（唯一标识）
  - 数据源名称
  - 数据源描述
  - 数据源类型
  - 连接配置（JSON格式，包含主机、端口、用户名、密码等）
  - API端点（API类型）
  - API密钥（API类型）
  - 状态（启用/禁用）
  - 最后同步时间
  - 创建人、创建时间
  - 修改人、修改时间

**ED-002 数据源编辑**
- 支持编辑数据源配置
- 支持修改连接参数
- 修改后需要重新测试连接

**ED-003 数据源删除**
- 支持删除数据源
- 删除前检查是否有关联的同步任务
- 删除前需要确认

**ED-004 数据源测试**
- 支持测试数据源连接
- 显示连接状态（成功/失败）
- 失败时显示错误信息

**ED-005 数据源查询**
- 支持按编码、名称、类型等条件查询
- 支持分页展示
- 支持按状态筛选

**ED-006 连接配置管理**
- 支持管理数据库连接参数（主机、端口、数据库名、用户名、密码）
- 支持管理API连接参数（端点URL、认证方式、密钥）
- 支持管理文件路径配置
- 敏感信息（密码、密钥）加密存储

### 3.8 数据同步管理

#### 3.8.1 功能描述
数据同步管理模块用于配置和管理数据同步任务，支持从外部数据源定时同步数据标准、质量规则和映射规则到DGMP平台。

#### 3.8.2 功能列表

| 功能编号 | 功能名称 | 功能描述 | 优先级 |
|----------|----------|----------|--------|
| SY-001 | 同步任务创建 | 创建数据同步任务 | 高 |
| SY-002 | 同步任务编辑 | 编辑同步任务配置 | 高 |
| SY-003 | 同步任务删除 | 删除同步任务 | 高 |
| SY-004 | 手动同步执行 | 手动触发同步任务 | 高 |
| SY-005 | 同步任务查询 | 按条件查询同步任务 | 高 |
| SY-006 | 同步记录查看 | 查看同步历史记录 | 高 |
| SY-007 | 同步配置管理 | 管理同步映射配置 | 高 |
| SY-008 | 定时同步配置 | 配置定时同步任务 | 高 |

#### 3.8.3 详细功能说明

**SY-001 同步任务创建**
- 支持创建以下类型的同步任务：
  - **数据元同步**：从外部数据源同步数据元定义
  - **质量规则同步**：从外部数据源同步质量规则
  - **映射规则同步**：从外部数据源同步映射规则
- 同步任务属性包括：
  - 任务编码（唯一标识）
  - 任务名称
  - 任务描述
  - 同步类型
  - 数据源ID
  - 目标类型
  - 目标配置（JSON格式，包含字段映射、转换规则等）
  - 同步频率（manual、daily、weekly、monthly、cron）
  - Cron表达式（自定义定时）
  - 是否启用同步
  - 最后同步时间
  - 下次同步时间
  - 同步状态（idle、running、success、failed）
  - 同步日志
  - 错误信息
  - 创建人、创建时间
  - 修改人、修改时间

**SY-002 同步任务编辑**
- 支持编辑同步任务配置
- 支持修改同步频率
- 支持修改目标配置
- 支持启用/禁用同步任务

**SY-003 同步任务删除**
- 支持删除同步任务
- 删除前需要确认
- 删除后停止定时任务

**SY-004 手动同步执行**
- 支持手动触发同步任务
- 实时显示同步进度
- 显示同步结果摘要
- 显示同步日志

**SY-005 同步任务查询**
- 支持按编码、名称、类型等条件查询
- 支持按状态筛选
- 支持分页展示

**SY-006 同步记录查看**
- 查看同步历史记录
- 记录包含：
  - 同步时间
  - 同步状态（success、failed、partial）
  - 总记录数
  - 成功数
  - 失败数
  - 更新数
  - 新增数
  - 同步详情（JSON格式）
  - 错误信息
  - 耗时（秒）
- 支持按时间范围筛选
- 支持按状态筛选

**SY-007 同步配置管理**
- 支持配置字段映射（源字段 -> 目标字段）
- 支持配置数据转换规则
- 支持配置过滤条件
- 支持配置冲突处理策略（覆盖、跳过、合并）

**SY-008 定时同步配置**
- 支持配置定时同步任务
- 支持设置同步频率：
  - 手动：不自动执行
  - 每日：每天指定时间执行
  - 每周：每周指定星期和时间执行
  - 每月：每月指定日期和时间执行
  - 自定义：使用Cron表达式
- 支持启用/禁用定时任务
- 支持查看下次执行时间

## 4. 非功能需求

### 4.1 性能需求

| 需求项 | 需求描述 | 指标 |
|--------|----------|------|
| 响应时间 | 页面加载响应时间 | < 2秒 |
| 响应时间 | API接口响应时间 | < 500ms |
| 并发用户 | 支持并发用户数 | ≥ 100 |
| 数据处理 | 单次质量检查处理数据量 | ≥ 100万条 |
| 数据处理 | 单次数据映射处理数据量 | ≥ 100万条 |

### 4.2 安全需求

| 需求项 | 需求描述 |
|--------|----------|
| 身份认证 | 支持用户名密码登录，支持会话管理 |
| 权限控制 | 基于角色的访问控制（RBAC） |
| 数据加密 | 敏感数据加密存储 |
| 操作审计 | 记录用户关键操作日志 |
| 防注入 | 防止SQL注入、XSS攻击 |
| 防越权 | 防止越权访问数据 |

### 4.3 可用性需求

| 需求项 | 需求描述 | 指标 |
|--------|----------|------|
| 系统可用性 | 系统正常运行时间占比 | ≥ 99% |
| 故障恢复 | 系统故障后恢复时间 | < 30分钟 |
| 数据备份 | 数据备份频率 | 每日一次 |
| 数据恢复 | 数据恢复时间 | < 1小时 |

### 4.4 可扩展性需求

| 需求项 | 需求描述 |
|--------|----------|
| 模块化设计 | 各功能模块松耦合，便于扩展 |
| 插件机制 | 支持自定义规则插件 |
| 多数据源 | 支持接入多种数据源（MySQL、Oracle、PostgreSQL等） |
| 多租户 | 支持多租户架构（可选） |

### 4.5 可维护性需求

| 需求项 | 需求描述 |
|--------|----------|
| 代码规范 | 遵循代码规范，有清晰的注释 |
| 日志记录 | 完善的日志记录机制 |
| 错误处理 | 统一的错误处理机制 |
| 监控告警 | 系统监控和异常告警 |

## 5. 数据模型需求

### 5.1 核心实体

#### 5.1.1 用户与权限

| 实体 | 说明 |
|------|------|
| User | 用户信息 |
| Role | 角色信息 |
| Permission | 权限信息 |
| UserRole | 用户角色关联 |
| RolePermission | 角色权限关联 |

#### 5.1.2 数据标准

| 实体 | 说明 |
|------|------|
| DataElement | 数据元 |
| DataType | 数据类型 |
| FormatRule | 格式规范 |
| DataElementCategory | 数据元分类 |
| DataElementVersion | 数据元版本 |

#### 5.1.3 质量规则

| 实体 | 说明 |
|------|------|
| QualityRule | 质量规则 |
| RuleCategory | 规则分类 |
| RuleTemplate | 规则模板 |
| RuleVersion | 规则版本 |

#### 5.1.4 映射规则

| 实体 | 说明 |
|------|------|
| MappingRule | 映射规则 |
| FieldMapping | 字段映射 |
| ValueMapping | 值映射 |
| TransformRule | 转换规则 |

#### 5.1.5 任务管理

| 实体 | 说明 |
|------|------|
| Task | 任务 |
| TaskTemplate | 任务模板 |
| TaskAssignment | 任务分配 |
| TaskExecution | 任务执行记录 |

#### 5.1.6 质量检查

| 实体 | 说明 |
|------|------|
| QualityCheck | 质量检查 |
| QualityReport | 质量报告 |
| QualityIssue | 质量问题 |
| QualityTrend | 质量趋势 |

#### 5.1.7 外部数据源与同步

| 实体 | 说明 |
|------|------|
| ExternalDataSource | 外部数据源 |
| SyncTask | 同步任务 |
| SyncRecord | 同步记录 |

#### 5.1.8 系统管理

| 实体 | 说明 |
|------|------|
| SystemConfig | 系统配置 |
| AuditLog | 审计日志 |
| Notification | 通知 |

### 5.2 实体关系

```
User --< UserRole >-- Role --< RolePermission >-- Permission

DataElement --< DataElementVersion
DataElement >-- DataType
DataElement >-- FormatRule
DataElementCategory --< DataElement

QualityRule --< RuleVersion
QualityRule >-- RuleCategory
QualityRule >-- RuleTemplate

MappingRule --< FieldMapping
MappingRule --< ValueMapping
MappingRule >-- TransformRule

Task >-- TaskTemplate
Task --< TaskAssignment
Task --< TaskExecution

QualityCheck --< QualityReport
QualityReport --< QualityIssue
QualityTrend --< QualityReport
```

## 6. 接口需求

### 6.1 API设计原则

- 遵循RESTful API设计规范
- 使用HTTP动词表示操作（GET、POST、PUT、DELETE）
- 使用JSON格式传输数据
- 统一的响应格式
- 支持分页、排序、筛选
- 支持版本控制（/api/v1/）

### 6.2 统一响应格式

```json
{
  "code": 200,
  "message": "success",
  "data": {},
  "timestamp": 1234567890
}
```

### 6.3 核心API列表

#### 6.3.1 用户与权限

| 方法 | 路径 | 描述 |
|------|------|------|
| POST | /api/v1/auth/login | 用户登录 |
| POST | /api/v1/auth/logout | 用户登出 |
| GET | /api/v1/users | 获取用户列表 |
| POST | /api/v1/users | 创建用户 |
| PUT | /api/v1/users/:id | 更新用户 |
| DELETE | /api/v1/users/:id | 删除用户 |
| GET | /api/v1/roles | 获取角色列表 |
| GET | /api/v1/permissions | 获取权限列表 |

#### 6.3.2 数据标准

| 方法 | 路径 | 描述 |
|------|------|------|
| GET | /api/v1/data-elements | 获取数据元列表 |
| POST | /api/v1/data-elements | 创建数据元 |
| PUT | /api/v1/data-elements/:id | 更新数据元 |
| DELETE | /api/v1/data-elements/:id | 删除数据元 |
| GET | /api/v1/data-elements/:id/versions | 获取数据元版本 |
| GET | /api/v1/data-types | 获取数据类型列表 |
| GET | /api/v1/format-rules | 获取格式规范列表 |
| GET | /api/v1/categories | 获取分类列表 |

#### 6.3.3 质量规则

| 方法 | 路径 | 描述 |
|------|------|------|
| GET | /api/v1/quality-rules | 获取质量规则列表 |
| POST | /api/v1/quality-rules | 创建质量规则 |
| PUT | /api/v1/quality-rules/:id | 更新质量规则 |
| DELETE | /api/v1/quality-rules/:id | 删除质量规则 |
| POST | /api/v1/quality-rules/:id/test | 测试质量规则 |
| GET | /api/v1/rule-templates | 获取规则模板列表 |

#### 6.3.4 映射规则

| 方法 | 路径 | 描述 |
|------|------|------|
| GET | /api/v1/mapping-rules | 获取映射规则列表 |
| POST | /api/v1/mapping-rules | 创建映射规则 |
| PUT | /api/v1/mapping-rules/:id | 更新映射规则 |
| DELETE | /api/v1/mapping-rules/:id | 删除映射规则 |
| POST | /api/v1/mapping-rules/:id/test | 测试映射规则 |

#### 6.3.5 任务管理

| 方法 | 路径 | 描述 |
|------|------|------|
| GET | /api/v1/tasks | 获取任务列表 |
| POST | /api/v1/tasks | 创建任务 |
| PUT | /api/v1/tasks/:id | 更新任务 |
| DELETE | /api/v1/tasks/:id | 删除任务 |
| POST | /api/v1/tasks/:id/assign | 分配任务 |
| POST | /api/v1/tasks/:id/accept | 接收任务 |
| POST | /api/v/v1/tasks/:id/execute | 执行任务 |
| POST | /api/v1/tasks/:id/submit | 提交任务结果 |
| POST | /api/v1/tasks/:id/review | 审核任务 |
| GET | /api/v1/tasks/:id/execution | 获取执行记录 |

#### 6.3.6 质量检查

| 方法 | 路径 | 描述 |
|------|------|------|
| POST | /api/v1/quality-checks | 执行质量检查 |
| GET | /api/v1/quality-reports | 获取质量报告列表 |
| GET | /api/v1/quality-reports/:id | 获取质量报告详情 |
| GET | /api/v1/quality-issues | 获取质量问题列表 |
| GET | /api/v1/quality-trends | 获取质量趋势 |

#### 6.3.7 外部数据源

| 方法 | 路径 | | 描述 |
|------|------|------|
| GET | /api/v1/external-data-sources | 获取外部数据源列表 |
| POST | /api/v1/external-data-sources | 创建外部数据源 |
| GET | /api/v1/external-data-sources/:id | 获取数据源详情 |
| PUT | /api/v1/external-data-sources/:id | 更新数据源 |
| DELETE | /api/v1/external-data-sources/:id | 删除数据源 |
| POST | /api/v1/external-data-sources/:id/test | 测试数据源连接 |

#### 6.3.8 数据同步

| 方法 | 路径 | 描述 |
|------|------|------|
| GET | /api/v1/sync-tasks | 获取同步任务列表 |
| POST | /api/v1/sync-tasks | 创建同步任务 |
| GET | /api/v1/sync-tasks/:id | 获取同步任务详情 |
| PUT | /api/v1/sync-tasks/:id | 更新同步任务 |
| DELETE | /api/v1/sync-tasks/:id | 删除同步任务 |
| POST | /api/v1/sync-tasks/:id/execute | 手动执行同步任务 |
| GET | /api/v1/sync-tasks/:id/records | 获取同步记录列表 |
| GET | /api/v1/sync-records | 获取所有同步记录 |

#### 6.3.9 系统管理

| 方法 | 路径 | 描述 |
|------|------|------|
| GET | /api/v1/config | 获取系统配置 |
| PUT | /api/v1/config | 更新系统配置 |
| GET | /api/v1/audit-logs | 获取审计日志 |
| GET | /api/v1/notifications | 获取通知列表 |

### 6.4 分页参数

```
?page=1&pageSize=20&sortField=createTime&sortOrder=desc
```

### 6.5 筛选参数

```
?status=active&category=student&keyword=学工号
```

## 7. 附录

### 7.1 术语表

| 术语 | 解释 |
|------|------|
| DGMP | Data Governance Management Platform，数据治理管理平台 |
| 数据元 | 数据的最小单位，如"学工号"、"姓名"等 |
| 数据标准 | 对数据的定义、格式、取值范围等的规范 |
| 质量规则 | 用于检查数据质量的规则 |
| 映射规则 | 用于数据转换和映射的规则 |
| 决策层 | 负责制定治理策略和规则的人员 |
| 执行层 | 负责执行具体数据治理操作的人员 |

### 7.2 参考文档

- 《高校数据治理的"沙上建塔"困境与破局之道》
- Next.js官方文档
- Ant Design官方文档
- MySQL官方文档

### 7.3 版本历史

| 版本 | 日期 | 修订人 | 修订内容 |
|------|------|--------|----------|
| 1.0 | 2026-02-01 | - | 初始版本 |
